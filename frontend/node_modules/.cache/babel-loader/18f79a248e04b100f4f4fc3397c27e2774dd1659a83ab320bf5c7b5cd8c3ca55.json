{"ast":null,"code":"import { jsPDF } from \"jspdf\";\nimport axios from \"axios\";\nexport const generatePatientPDF = async patientId => {\n  try {\n    const response = await axios.get(`http://localhost:5000/api/patients/${patientId}`);\n    console.log(\"API Response:\", response.data);\n    if (!response.data || Object.keys(response.data).length === 0) {\n      throw new Error(\"No patient data received.\");\n    }\n    const patient = response.data;\n    if (!patient) {\n      throw new Error(\"Patient data not found.\");\n    }\n    const doc = new jsPDF();\n    doc.setFont(\"helvetica\", \"bold\");\n    doc.setFontSize(16);\n    doc.text(\"Patient Report\", 20, 20);\n    doc.setFont(\"helvetica\", \"normal\");\n    doc.setFontSize(12);\n    doc.text(`Patient ID: ${patient.patientId}`, 20, 40);\n    doc.text(`Name: ${patient.firstName} ${patient.lastName}`, 20, 50);\n    doc.text(`DOB: ${new Date(patient.dob).toLocaleDateString()}`, 20, 60);\n    doc.text(`Gender: ${patient.gender}`, 20, 70);\n    doc.text(`Phone: ${patient.phone}`, 20, 80);\n    doc.text(`Email: ${patient.email}`, 20, 90);\n    doc.text(`Address: ${patient.address || \"N/A\"}`, 20, 100);\n\n    // Prescriptions Section\n    doc.setFont(\"helvetica\", \"bold\");\n    doc.setFontSize(14);\n    doc.text(\"Prescriptions:\", 20, 120);\n    doc.setFont(\"helvetica\", \"normal\");\n    patient.prescriptions.forEach((prescription, index) => {\n      doc.text(`${index + 1}. ${prescription}`, 20, 130 + index * 10);\n    });\n\n    // Visits Section\n    doc.setFont(\"helvetica\", \"bold\");\n    doc.setFontSize(14);\n    doc.text(\"Visits:\", 20, 150 + patient.prescriptions.length * 10);\n    doc.setFont(\"helvetica\", \"normal\");\n    patient.visits.forEach((visit, index) => {\n      doc.text(`${index + 1}. ${visit}`, 20, 160 + index * 10 + patient.prescriptions.length * 10);\n    });\n    doc.save(`${patient.firstName}_${patient.lastName}_PatientReport.pdf`);\n    alert(\"Patient data exported successfully!\");\n  } catch (error) {\n    console.error(\"Error generating PDF:\", error);\n    alert(\"Failed to export patient data.\");\n  }\n};","map":{"version":3,"names":["jsPDF","axios","generatePatientPDF","patientId","response","get","console","log","data","Object","keys","length","Error","patient","doc","setFont","setFontSize","text","firstName","lastName","Date","dob","toLocaleDateString","gender","phone","email","address","prescriptions","forEach","prescription","index","visits","visit","save","alert","error"],"sources":["C:/Users/Meher/OneDrive/Desktop/CareTrack/frontend/src/utils/pdfUtils.js"],"sourcesContent":["import { jsPDF } from \"jspdf\";\r\nimport axios from \"axios\";\r\n\r\nexport const generatePatientPDF = async (patientId) => {\r\n  try {\r\n    const response = await axios.get(`http://localhost:5000/api/patients/${patientId}`);\r\n    console.log(\"API Response:\", response.data); \r\n\r\n    if (!response.data || Object.keys(response.data).length === 0) {\r\n      throw new Error(\"No patient data received.\");\r\n    }\r\n\r\n    const patient = response.data;\r\n\r\n    if (!patient) {\r\n      throw new Error(\"Patient data not found.\");\r\n    }\r\n\r\n    const doc = new jsPDF();\r\n\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setFontSize(16);\r\n    doc.text(\"Patient Report\", 20, 20);\r\n\r\n    doc.setFont(\"helvetica\", \"normal\");\r\n    doc.setFontSize(12);\r\n    doc.text(`Patient ID: ${patient.patientId}`, 20, 40);\r\n    doc.text(`Name: ${patient.firstName} ${patient.lastName}`, 20, 50);\r\n    doc.text(`DOB: ${new Date(patient.dob).toLocaleDateString()}`, 20, 60);\r\n    doc.text(`Gender: ${patient.gender}`, 20, 70);\r\n    doc.text(`Phone: ${patient.phone}`, 20, 80);\r\n    doc.text(`Email: ${patient.email}`, 20, 90);\r\n    doc.text(`Address: ${patient.address || \"N/A\"}`, 20, 100);\r\n\r\n    // Prescriptions Section\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setFontSize(14);\r\n    doc.text(\"Prescriptions:\", 20, 120);\r\n    doc.setFont(\"helvetica\", \"normal\");\r\n    patient.prescriptions.forEach((prescription, index) => {\r\n      doc.text(`${index + 1}. ${prescription}`, 20, 130 + index * 10);\r\n    });\r\n\r\n    // Visits Section\r\n    doc.setFont(\"helvetica\", \"bold\");\r\n    doc.setFontSize(14);\r\n    doc.text(\"Visits:\", 20, 150 + patient.prescriptions.length * 10);\r\n    doc.setFont(\"helvetica\", \"normal\");\r\n    patient.visits.forEach((visit, index) => {\r\n      doc.text(`${index + 1}. ${visit}`, 20, 160 + index * 10 + patient.prescriptions.length * 10);\r\n    });\r\n\r\n    doc.save(`${patient.firstName}_${patient.lastName}_PatientReport.pdf`);\r\n\r\n    alert(\"Patient data exported successfully!\");\r\n  } catch (error) {\r\n    console.error(\"Error generating PDF:\", error);\r\n    alert(\"Failed to export patient data.\");\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}